(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{608:function(t,_,v){"use strict";v.r(_);var e=v(1),a=Object(e.a)({},(function(){var t=this,_=t.$createElement,v=t._self._c||_;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("h1",{attrs:{id:"benchmark"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#benchmark"}},[t._v("#")]),t._v(" Benchmark")]),t._v(" "),v("p",[t._v("We have constructed "),v("a",{attrs:{href:"https://github.com/patractlabs/zkmega/tree/master/crates/arkworks/src/tests",target:"_blank",rel:"noopener noreferrer"}},[t._v("the tests of zkMega curves"),v("OutboundLink")],1),t._v(" in "),v("a",{attrs:{href:"https://github.com/patractlabs/substrate/blob/features/curve-benchmark/bin/node-template/pallets/template/src/lib.rs",target:"_blank",rel:"noopener noreferrer"}},[t._v("pallet-template"),v("OutboundLink")],1),t._v(" which imports the\ncurves from zkMega directly("),v("em",[t._v("Wasm")]),t._v(") and with "),v("a",{attrs:{href:"https://github.com/patractlabs/substrate/blob/features/curve-benchmark/bin/node-template/io/src/lib.rs",target:"_blank",rel:"noopener noreferrer"}},[t._v("runtime-interface"),v("OutboundLink")],1),t._v("("),v("em",[t._v("Native")]),t._v(").")]),t._v(" "),v("h2",{attrs:{id:"building"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#building"}},[t._v("#")]),t._v(" Building")]),t._v(" "),v("div",{staticClass:"language-bash line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-bash"}},[v("code",[v("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Clone the branch `curve-benchmark` of our fork")]),t._v("\n"),v("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://github.com/patractlabs/jupiter.git "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n    --branch features/runtime-interfaces "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n    --depth "),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),v("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n\n"),v("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Build the template")]),t._v("\ncargo build -p jupiter-dev --all-features --release\n\n"),v("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Check the command benchmark works fine")]),t._v("\n"),v("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ./target/release/jupiter-dev benchmark -p pallet_template -e wasm_bls_12_381_add")]),t._v("\n./target/release/jupiter-dev benchmark -p pallet_template -e wasm_bls_12_381_add\n\n")])]),t._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[t._v("1")]),v("br"),v("span",{staticClass:"line-number"},[t._v("2")]),v("br"),v("span",{staticClass:"line-number"},[t._v("3")]),v("br"),v("span",{staticClass:"line-number"},[t._v("4")]),v("br"),v("span",{staticClass:"line-number"},[t._v("5")]),v("br"),v("span",{staticClass:"line-number"},[t._v("6")]),v("br"),v("span",{staticClass:"line-number"},[t._v("7")]),v("br"),v("span",{staticClass:"line-number"},[t._v("8")]),v("br"),v("span",{staticClass:"line-number"},[t._v("9")]),v("br"),v("span",{staticClass:"line-number"},[t._v("10")]),v("br"),v("span",{staticClass:"line-number"},[t._v("11")]),v("br"),v("span",{staticClass:"line-number"},[t._v("12")]),v("br")])]),v("h2",{attrs:{id:"result"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#result"}},[t._v("#")]),t._v(" Result")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("memory")]),t._v(" "),v("th",[t._v("processor")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("64GiB System memory")]),t._v(" "),v("td",[t._v("AMD Ryzen 9 5900X 12-Core Processor")])])])]),t._v(" "),v("p",[t._v("Here we test the curevs on ubuntu LTS 20.04, Time is measured in us")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("Curve")]),t._v(" "),v("th",[t._v("Native")]),t._v(" "),v("th",[t._v("Time(us)")]),t._v(" "),v("th",[t._v("WASM")]),t._v(" "),v("th",[t._v("Time(us)")]),t._v(" "),v("th",[t._v("Speed(Native/WASM)")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("bls12_377(~9.5x)")]),t._v(" "),v("td",[t._v("native_bls12_377_add")]),t._v(" "),v("td",[t._v("9.588")]),t._v(" "),v("td",[t._v("wasm_bls12_377_add")]),t._v(" "),v("td",[t._v("29.02")]),t._v(" "),v("td",[t._v("~3x")])]),t._v(" "),v("tr",[v("td"),t._v(" "),v("td",[t._v("native_bls12_377_mul")]),t._v(" "),v("td",[t._v("183.1")]),t._v(" "),v("td",[t._v("wasm_bls12_377_mul")]),t._v(" "),v("td",[t._v("1893")]),t._v(" "),v("td",[t._v("~10x")])]),t._v(" "),v("tr",[v("td"),t._v(" "),v("td",[t._v("native_bls12_377_pairing_two")]),t._v(" "),v("td",[t._v("1732")]),t._v(" "),v("td",[t._v("wasm_bls12_377_pairing_two")]),t._v(" "),v("td",[t._v("15310")]),t._v(" "),v("td",[t._v("~7x")])]),t._v(" "),v("tr",[v("td"),t._v(" "),v("td",[t._v("native_bls12_377_mimc_verify")]),t._v(" "),v("td",[t._v("7484")]),t._v(" "),v("td",[t._v("wasm_bls12_377_mimc_verify")]),t._v(" "),v("td",[t._v("64680")]),t._v(" "),v("td",[t._v("~9x")])]),t._v(" "),v("tr",[v("td",[t._v("bls12_381(~10x)")]),t._v(" "),v("td",[t._v("native_bls12_381_add")]),t._v(" "),v("td",[t._v("13.9")]),t._v(" "),v("td",[t._v("wasm_bls12_381_add")]),t._v(" "),v("td",[t._v("28.31")]),t._v(" "),v("td",[t._v("~2x")])]),t._v(" "),v("tr",[v("td"),t._v(" "),v("td",[t._v("native_bls12_381_mul")]),t._v(" "),v("td",[t._v("177.1")]),t._v(" "),v("td",[t._v("wasm_bls12_381_mul")]),t._v(" "),v("td",[t._v("1879")]),t._v(" "),v("td",[t._v("~10x")])]),t._v(" "),v("tr",[v("td"),t._v(" "),v("td",[t._v("native_bls12_381_pairing_two")]),t._v(" "),v("td",[t._v("1438")]),t._v(" "),v("td",[t._v("wasm_bls12_381_pairing_two")]),t._v(" "),v("td",[t._v("14770")]),t._v(" "),v("td",[t._v("~10x")])]),t._v(" "),v("tr",[v("td"),t._v(" "),v("td",[t._v("native_bls12_381_mimc_verify")]),t._v(" "),v("td",[t._v("6411")]),t._v(" "),v("td",[t._v("wasm_bls12_381_mimc_verify")]),t._v(" "),v("td",[t._v("63260")]),t._v(" "),v("td",[t._v("~10x")])]),t._v(" "),v("tr",[v("td",[t._v("bn254(~5x)")]),t._v(" "),v("td",[t._v("native_bn254_add")]),t._v(" "),v("td",[t._v("5.631")]),t._v(" "),v("td",[t._v("wasm_bn254_add")]),t._v(" "),v("td",[t._v("16.05")]),t._v(" "),v("td",[t._v("~3x")])]),t._v(" "),v("tr",[v("td"),t._v(" "),v("td",[t._v("native_bn254_mul")]),t._v(" "),v("td",[t._v("107.7")]),t._v(" "),v("td",[t._v("wasm_bn254_mul")]),t._v(" "),v("td",[t._v("534.3")]),t._v(" "),v("td",[t._v("~5x")])]),t._v(" "),v("tr",[v("td"),t._v(" "),v("td",[t._v("native_bn254_pairing_two")]),t._v(" "),v("td",[t._v("1150")]),t._v(" "),v("td",[t._v("wasm_bn254_pairing_two")]),t._v(" "),v("td",[t._v("5061")]),t._v(" "),v("td",[t._v("~5x")])]),t._v(" "),v("tr",[v("td"),t._v(" "),v("td",[t._v("native_bn254_mimc_verify")]),t._v(" "),v("td",[t._v("4178")]),t._v(" "),v("td",[t._v("wasm_bn254_mimc_verify")]),t._v(" "),v("td",[t._v("19850")]),t._v(" "),v("td",[t._v("~5x")])]),t._v(" "),v("tr",[v("td",[t._v("bw6_761(~13x)")]),t._v(" "),v("td",[t._v("native_bw6_761_add")]),t._v(" "),v("td",[t._v("30.35")]),t._v(" "),v("td",[t._v("wasm_bw6_761_add")]),t._v(" "),v("td",[t._v("26.79")]),t._v(" "),v("td",[t._v("\\")])]),t._v(" "),v("tr",[v("td"),t._v(" "),v("td",[t._v("native_bw6_761_mul")]),t._v(" "),v("td",[t._v("963.8")]),t._v(" "),v("td",[t._v("wasm_bw6_761_mul")]),t._v(" "),v("td",[t._v("14630")]),t._v(" "),v("td",[t._v("~15x")])]),t._v(" "),v("tr",[v("td"),t._v(" "),v("td",[t._v("native_bw6_761_pairing_two")]),t._v(" "),v("td",[t._v("5715")]),t._v(" "),v("td",[t._v("wasm_bw6_761_pairing_two")]),t._v(" "),v("td",[t._v("60960")]),t._v(" "),v("td",[t._v("~10x")])]),t._v(" "),v("tr",[v("td"),t._v(" "),v("td",[t._v("native_bw6_761_mimc_verify")]),t._v(" "),v("td",[t._v("20330")]),t._v(" "),v("td",[t._v("wasm_bw6_761_mimc_verify")]),t._v(" "),v("td",[t._v("299800")]),t._v(" "),v("td",[t._v("~15x")])])])]),t._v(" "),v("div",{staticClass:"language-bash line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-bash"}},[v("code",[v("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 1. Under the jupiter repo")]),t._v("\n"),v("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 2. Has compiled jupiter-dev")]),t._v("\n"),v("span",{pre:!0,attrs:{class:"token function"}},[t._v("sh")]),t._v(" ./benchmark.sh\n")])]),t._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[t._v("1")]),v("br"),v("span",{staticClass:"line-number"},[t._v("2")]),v("br"),v("span",{staticClass:"line-number"},[t._v("3")]),v("br")])])])}),[],!1,null,null,null);_.default=a.exports},651:function(t,_,v){"use strict";v.r(_);var e=v(1),a=Object(e.a)({},(function(){var t=this,_=t.$createElement,v=t._self._c||_;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("h1",{attrs:{id:"benchmark"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#benchmark"}},[t._v("#")]),t._v(" Benchmark")]),t._v(" "),v("p",[t._v("We have constructed "),v("a",{attrs:{href:"https://github.com/patractlabs/zkmega/tree/master/crates/arkworks/src/tests",target:"_blank",rel:"noopener noreferrer"}},[t._v("the tests of zkMega curves"),v("OutboundLink")],1),t._v(" in "),v("a",{attrs:{href:"https://github.com/patractlabs/substrate/blob/features/curve-benchmark/bin/node-template/pallets/template/src/lib.rs",target:"_blank",rel:"noopener noreferrer"}},[t._v("pallet-template"),v("OutboundLink")],1),t._v(" which imports the\ncurves from zkMega directly("),v("em",[t._v("Wasm")]),t._v(") and with "),v("a",{attrs:{href:"https://github.com/patractlabs/substrate/blob/features/curve-benchmark/bin/node-template/io/src/lib.rs",target:"_blank",rel:"noopener noreferrer"}},[t._v("runtime-interface"),v("OutboundLink")],1),t._v("("),v("em",[t._v("Native")]),t._v(").")]),t._v(" "),v("h2",{attrs:{id:"building"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#building"}},[t._v("#")]),t._v(" Building")]),t._v(" "),v("div",{staticClass:"language-bash line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-bash"}},[v("code",[v("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Clone the branch `curve-benchmark` of our fork")]),t._v("\n"),v("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://github.com/patractlabs/jupiter.git "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n    --branch features/runtime-interfaces "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n    --depth "),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),v("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n\n"),v("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Build the template")]),t._v("\ncargo build -p jupiter-dev --all-features --release\n\n"),v("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Check the command benchmark works fine")]),t._v("\n"),v("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ./target/release/jupiter-dev benchmark -p pallet_template -e wasm_bls_12_381_add")]),t._v("\n./target/release/jupiter-dev benchmark -p pallet_template -e wasm_bls_12_381_add\n\n")])]),t._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[t._v("1")]),v("br"),v("span",{staticClass:"line-number"},[t._v("2")]),v("br"),v("span",{staticClass:"line-number"},[t._v("3")]),v("br"),v("span",{staticClass:"line-number"},[t._v("4")]),v("br"),v("span",{staticClass:"line-number"},[t._v("5")]),v("br"),v("span",{staticClass:"line-number"},[t._v("6")]),v("br"),v("span",{staticClass:"line-number"},[t._v("7")]),v("br"),v("span",{staticClass:"line-number"},[t._v("8")]),v("br"),v("span",{staticClass:"line-number"},[t._v("9")]),v("br"),v("span",{staticClass:"line-number"},[t._v("10")]),v("br"),v("span",{staticClass:"line-number"},[t._v("11")]),v("br"),v("span",{staticClass:"line-number"},[t._v("12")]),v("br")])]),v("h2",{attrs:{id:"result"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#result"}},[t._v("#")]),t._v(" Result")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("memory")]),t._v(" "),v("th",[t._v("processor")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("64GiB System memory")]),t._v(" "),v("td",[t._v("AMD Ryzen 9 5900X 12-Core Processor")])])])]),t._v(" "),v("p",[t._v("Here we test the curevs on ubuntu LTS 20.04, Time is measured in us")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("Curve")]),t._v(" "),v("th",[t._v("Native")]),t._v(" "),v("th",[t._v("Time(us)")]),t._v(" "),v("th",[t._v("WASM")]),t._v(" "),v("th",[t._v("Time(us)")]),t._v(" "),v("th",[t._v("Speed(Native/WASM)")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("bls12_377(~9.5x)")]),t._v(" "),v("td",[t._v("native_bls12_377_add")]),t._v(" "),v("td",[t._v("9.588")]),t._v(" "),v("td",[t._v("wasm_bls12_377_add")]),t._v(" "),v("td",[t._v("29.02")]),t._v(" "),v("td",[t._v("~3x")])]),t._v(" "),v("tr",[v("td"),t._v(" "),v("td",[t._v("native_bls12_377_mul")]),t._v(" "),v("td",[t._v("183.1")]),t._v(" "),v("td",[t._v("wasm_bls12_377_mul")]),t._v(" "),v("td",[t._v("1893")]),t._v(" "),v("td",[t._v("~10x")])]),t._v(" "),v("tr",[v("td"),t._v(" "),v("td",[t._v("native_bls12_377_pairing_two")]),t._v(" "),v("td",[t._v("1732")]),t._v(" "),v("td",[t._v("wasm_bls12_377_pairing_two")]),t._v(" "),v("td",[t._v("15310")]),t._v(" "),v("td",[t._v("~7x")])]),t._v(" "),v("tr",[v("td"),t._v(" "),v("td",[t._v("native_bls12_377_mimc_verify")]),t._v(" "),v("td",[t._v("7484")]),t._v(" "),v("td",[t._v("wasm_bls12_377_mimc_verify")]),t._v(" "),v("td",[t._v("64680")]),t._v(" "),v("td",[t._v("~9x")])]),t._v(" "),v("tr",[v("td",[t._v("bls12_381(~10x)")]),t._v(" "),v("td",[t._v("native_bls12_381_add")]),t._v(" "),v("td",[t._v("13.9")]),t._v(" "),v("td",[t._v("wasm_bls12_381_add")]),t._v(" "),v("td",[t._v("28.31")]),t._v(" "),v("td",[t._v("~2x")])]),t._v(" "),v("tr",[v("td"),t._v(" "),v("td",[t._v("native_bls12_381_mul")]),t._v(" "),v("td",[t._v("177.1")]),t._v(" "),v("td",[t._v("wasm_bls12_381_mul")]),t._v(" "),v("td",[t._v("1879")]),t._v(" "),v("td",[t._v("~10x")])]),t._v(" "),v("tr",[v("td"),t._v(" "),v("td",[t._v("native_bls12_381_pairing_two")]),t._v(" "),v("td",[t._v("1438")]),t._v(" "),v("td",[t._v("wasm_bls12_381_pairing_two")]),t._v(" "),v("td",[t._v("14770")]),t._v(" "),v("td",[t._v("~10x")])]),t._v(" "),v("tr",[v("td"),t._v(" "),v("td",[t._v("native_bls12_381_mimc_verify")]),t._v(" "),v("td",[t._v("6411")]),t._v(" "),v("td",[t._v("wasm_bls12_381_mimc_verify")]),t._v(" "),v("td",[t._v("63260")]),t._v(" "),v("td",[t._v("~10x")])]),t._v(" "),v("tr",[v("td",[t._v("bn254(~5x)")]),t._v(" "),v("td",[t._v("native_bn254_add")]),t._v(" "),v("td",[t._v("5.631")]),t._v(" "),v("td",[t._v("wasm_bn254_add")]),t._v(" "),v("td",[t._v("16.05")]),t._v(" "),v("td",[t._v("~3x")])]),t._v(" "),v("tr",[v("td"),t._v(" "),v("td",[t._v("native_bn254_mul")]),t._v(" "),v("td",[t._v("107.7")]),t._v(" "),v("td",[t._v("wasm_bn254_mul")]),t._v(" "),v("td",[t._v("534.3")]),t._v(" "),v("td",[t._v("~5x")])]),t._v(" "),v("tr",[v("td"),t._v(" "),v("td",[t._v("native_bn254_pairing_two")]),t._v(" "),v("td",[t._v("1150")]),t._v(" "),v("td",[t._v("wasm_bn254_pairing_two")]),t._v(" "),v("td",[t._v("5061")]),t._v(" "),v("td",[t._v("~5x")])]),t._v(" "),v("tr",[v("td"),t._v(" "),v("td",[t._v("native_bn254_mimc_verify")]),t._v(" "),v("td",[t._v("4178")]),t._v(" "),v("td",[t._v("wasm_bn254_mimc_verify")]),t._v(" "),v("td",[t._v("19850")]),t._v(" "),v("td",[t._v("~5x")])]),t._v(" "),v("tr",[v("td",[t._v("bw6_761(~13x)")]),t._v(" "),v("td",[t._v("native_bw6_761_add")]),t._v(" "),v("td",[t._v("30.35")]),t._v(" "),v("td",[t._v("wasm_bw6_761_add")]),t._v(" "),v("td",[t._v("26.79")]),t._v(" "),v("td",[t._v("\\")])]),t._v(" "),v("tr",[v("td"),t._v(" "),v("td",[t._v("native_bw6_761_mul")]),t._v(" "),v("td",[t._v("963.8")]),t._v(" "),v("td",[t._v("wasm_bw6_761_mul")]),t._v(" "),v("td",[t._v("14630")]),t._v(" "),v("td",[t._v("~15x")])]),t._v(" "),v("tr",[v("td"),t._v(" "),v("td",[t._v("native_bw6_761_pairing_two")]),t._v(" "),v("td",[t._v("5715")]),t._v(" "),v("td",[t._v("wasm_bw6_761_pairing_two")]),t._v(" "),v("td",[t._v("60960")]),t._v(" "),v("td",[t._v("~10x")])]),t._v(" "),v("tr",[v("td"),t._v(" "),v("td",[t._v("native_bw6_761_mimc_verify")]),t._v(" "),v("td",[t._v("20330")]),t._v(" "),v("td",[t._v("wasm_bw6_761_mimc_verify")]),t._v(" "),v("td",[t._v("299800")]),t._v(" "),v("td",[t._v("~15x")])])])]),t._v(" "),v("div",{staticClass:"language-bash line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-bash"}},[v("code",[v("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 1. Under the jupiter repo")]),t._v("\n"),v("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 2. Has compiled jupiter-dev")]),t._v("\n"),v("span",{pre:!0,attrs:{class:"token function"}},[t._v("sh")]),t._v(" ./benchmark.sh\n")])]),t._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[t._v("1")]),v("br"),v("span",{staticClass:"line-number"},[t._v("2")]),v("br"),v("span",{staticClass:"line-number"},[t._v("3")]),v("br")])])])}),[],!1,null,null,null);_.default=a.exports}}]);